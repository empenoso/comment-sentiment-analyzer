{
  "url": "https://habr.com/ru/articles/930340/comments/",
  "article_id": 930340,
  "title": "Экологичное расставание с Алисой: строим полностью локальный и приватный голосовой ассистент",
  "comments": [
    {
      "id": 28631040,
      "author": "DashBerlin",
      "datetime": "2025-07-29T01:35:42.000Z",
      "text": "Было бы интересно увидекть реальные результаты работы, потому что проM5Stack ATOM Echo противоречивые отзывы, нет уверенности, что справится, а про ESP32-S3-BOX очень мало обратнлй связи, но цена в несколько раз выше, является ли это показателем качества? Возможно есть еще варианты"
    },
    {
      "id": 28631050,
      "author": "empenoso",
      "datetime": "2025-07-29T01:53:05.000Z",
      "text": "К сожалению нашёл только эти два варианта, ESP32-S3-BOX (он с дисплеем) - по фоткам из интернета с прошитой ESPHome выглядит симпатично."
    },
    {
      "id": 28636392,
      "author": "xSVPx",
      "datetime": "2025-07-29T22:36:46.000Z",
      "text": "Цена вот только на него немного странная. Чего туда на эти деньги напихали то такого ?"
    },
    {
      "id": 28668408,
      "author": "wrewolf",
      "datetime": "2025-08-06T09:16:41.000Z",
      "text": "Посмотрите в сторону ReSpeaker-lite или полноценный, это модуль из 2 или 4 микрофонов. Слышит в целом неплохо, насколько я знаю, он в основе голосовой коробки которую HA продвигает"
    },
    {
      "id": 28693930,
      "author": "DashBerlin",
      "datetime": "2025-08-11T17:16:42.000Z",
      "text": "этоэтот?"
    },
    {
      "id": 28697896,
      "author": "wrewolf",
      "datetime": "2025-08-12T16:00:59.000Z",
      "text": "У меня лайт, как по ссылке, хочется больше, эта слышит, но надо модель whisper не ниже large использовать, накладно или медленно выходит.А железка хом ассистаната, вроде на 4х микрофонах, а это ReSpeaker Mic Array V2.0"
    },
    {
      "id": 28698788,
      "author": "DashBerlin",
      "datetime": "2025-08-12T20:23:08.000Z",
      "text": "это которая Home Assistant Voice Preview Edition?"
    },
    {
      "id": 28699804,
      "author": "wrewolf",
      "datetime": "2025-08-13T06:13:39.000Z",
      "text": "Да, она"
    },
    {
      "id": 28742644,
      "author": "DashBerlin",
      "datetime": "2025-08-23T00:00:24.000Z",
      "text": "не вариант, это тестовое решение и очень сырое, но главное, подключение разпазнование речи возможно двумя способом, первый через HA Cloud, подписка стоит 7,5 евро в месяц, но не уверен, что сейчас оплатить ее возмжно. Второй вариант локально, потребуются дополнения: Whisper, Piper, русский язык не поддерживается, вообще локально помимо англйского очень мало что поддерживает."
    },
    {
      "id": 28753572,
      "author": "wrewolf",
      "datetime": "2025-08-25T20:41:29.000Z",
      "text": "- а вы точно продюссер? (c)не надо вводить в заблуждение никого, русский поддерживается из коробки и в HA и в whisper и в piperhttps://rhasspy.github.io/piper-samples/https://github.com/openai/whisperгонять локально, нужна видяха,что быбыло приятно по скорости"
    },
    {
      "id": 28753712,
      "author": "DashBerlin",
      "datetime": "2025-08-25T21:45:00.000Z",
      "text": "все верно, подтянутсяWhisperиPiper. Купил для экспериентаHome Assistant Green и Home Assistant Preview Edition, вот инструкция по установкеhttps://support.nabucasa.com/hc/en-us/articles/25918770371229-Getting-started-with-Home-Assistant-Preview-Edition.на выходе получается, русский, как и многие друкгие языка локально не поддерживаютсяанглийский на люой вкусесли ты про стариковский метод из скотча и изоленты, поведай секретплюс для развитияhttps://www.michaelsleen.com/ha-voice-pe/открывасем страницу модуляhttps://www.home-assistant.io/voice-pe/выбираем русский язык"
    },
    {
      "id": 28758256,
      "author": "wrewolf",
      "datetime": "2025-08-26T19:14:16.000Z",
      "text": "ставим whisper, piper, openwakeworrd и полетелии вотдополнительно можно выбрать еще и локальную ллмэто все на видяхе крутится"
    },
    {
      "id": 28763526,
      "author": "DashBerlin",
      "datetime": "2025-08-27T20:25:35.000Z",
      "text": "используется железо, о котором мы говорили выше?"
    },
    {
      "id": 28765124,
      "author": "wrewolf",
      "datetime": "2025-08-28T08:04:25.000Z",
      "text": "Нет, микрофон другой у меня RespeakerLite, но если идти по стандартному мастеру настройки (а снача я попробовал делать так), то теже самы картинки как у вас были, что русский тольк в облаке, надо руками ставить доп аддоны, что бы русский добавить и кастомый пайплайн для него."
    },
    {
      "id": 28765562,
      "author": "DashBerlin",
      "datetime": "2025-08-28T09:08:17.000Z",
      "text": "тепеь понятно, спасибо"
    },
    {
      "id": 28649074,
      "author": "DashBerlin",
      "datetime": "2025-08-01T11:45:29.000Z",
      "text": "в этот кейс можно еще добавить Home Assistant Voice Preview Edition(в комментариях он звучал), от самого HA, по цене сопоставим сESP32-S3-BOX и тоже использует ESP32-S3"
    },
    {
      "id": 28742648,
      "author": "DashBerlin",
      "datetime": "2025-08-23T00:01:26.000Z",
      "text": "на это устройство  можно не тратить время, тк. это тестовое решение и очень сырое, но главное, подключение разпазнование речи возможно двумя способом, первый через HA Cloud, подписка стоит 7,5 евро в месяц, но не уверен, что сейчас оплатить ее возмжно. Второй вариант локально, потребуются дополнения: Whisper, Piper, русский язык не поддерживается, вообще локально помимо англйского очень мало что поддерживает., вот хороший обзорhttps://www.michaelsleen.com/ha-voice-pe/сравниваются оба способа."
    },
    {
      "id": 28631182,
      "author": "Abyss777",
      "datetime": "2025-07-29T03:48:44.000Z",
      "text": "Зачем N95 за 14 если можно взять Ryzen 5 6600H+Radeon 660M + 16Гб + 512Гб за 17000https://www.ozon.ru/product/firebat-mini-pk-amd-ryzen-5-6600h-ram-16-gb-ssd-512-gb-amd-radeon-660m-windows-11-home-am02-chernyy-1846291873/"
    },
    {
      "id": 28631220,
      "author": "empenoso",
      "datetime": "2025-07-29T04:09:53.000Z",
      "text": "В целом да, сейчас не обязательно самые дешёвые цены на китайской площадке"
    },
    {
      "id": 28631236,
      "author": "Abyss777",
      "datetime": "2025-07-29T04:16:37.000Z",
      "text": "Я скорее про то, что 3 вариант не сильно отличается по цене от второго.Я не силён в этом, но вроде как llm научились на APU запускатьhttps://github.com/rjmalagon/ollama-linux-amd-apu"
    },
    {
      "id": 28632104,
      "author": "SabMakc",
      "datetime": "2025-07-29T08:02:13.000Z",
      "text": "LLM и на CPU работают, вопрос скорости генерации токенов (и обработки запроса). А скорость зависит от пропускной способности памяти, где видеокарты как раз в почете.С этой точки зрения APU не имеют особого смысла - просто потому, что скорость памяти не меняется.P.S. Самый большой эффект оптимизаций видел в обработке запросов, но не в генерации (ik_llama.cpp в разы быстрее llama.cpp на CPU)."
    },
    {
      "id": 28631292,
      "author": "SserjIrk",
      "datetime": "2025-07-29T04:51:19.000Z",
      "text": "Вообще N95 вполне может обходиться без вентилятора. А с Ryzen-ами такое уже не прокатывает. Что-то типа такогоАлиэкспресс"
    },
    {
      "id": 28631354,
      "author": "empenoso",
      "datetime": "2025-07-29T05:03:20.000Z",
      "text": "Спасибо"
    },
    {
      "id": 28637116,
      "author": "Illiiilll",
      "datetime": "2025-07-30T05:46:56.000Z",
      "text": "У меня миник на n100 и без вентилятора он очень горячий, рука еле терпит. Вот такой калхозинг решает проблему(цена вопроса 200 рублей)."
    },
    {
      "id": 28637314,
      "author": "SserjIrk",
      "datetime": "2025-07-30T06:23:55.000Z",
      "text": "Ну так это смотря что делать. Да и N100 заявлен до 105 градусов. А это далеко не то что рука может терпеть. Умному дому много не надо. Время работы на распознавание речи и ответ это очень немного а не постоянная нагрузка. Постоянный мониторинг это на столько мизерная нагрузка что можно и не обращать внимания. У меня N95 валяется в углу, торренты раздает да файловая помойка на Ubuntu Server. Только раз в полгода выключаю от пыли почистить."
    },
    {
      "id": 28747728,
      "author": "Nafiganado",
      "datetime": "2025-08-24T16:13:18.000Z",
      "text": "Это включая стоимость ибупрофена? :)"
    },
    {
      "id": 28632588,
      "author": "MrLizard",
      "datetime": "2025-07-29T09:35:05.000Z",
      "text": "Вот совпадение, как раз сегодня такой должен прийти, как раз под эти же самые задачи"
    },
    {
      "id": 28633774,
      "author": "Tirarex",
      "datetime": "2025-07-29T12:51:16.000Z",
      "text": "За 7-8к можно боксы на N150 Урвать, тоже веселая железка."
    },
    {
      "id": 28631266,
      "author": "rPman",
      "datetime": "2025-07-29T04:39:19.000Z",
      "text": "я не понял, зачем оставлять raspberry pi если мощную x86 машину придется завести? разделять слишком умный функционал от базового? Какую именно работу хотите поручить малинке если сервер выключится?p.s. настоятельно рекомендую посмотреть на скорость получения результата голос -> whisper -> llm -> tts -> ответ и при использовании локальных моделей она вам НЕ понравится!Если же собираетесь использовать зарубежных провайдеров (типа openai/anthropic/google/xai/alibaba/deepseek..) то настоятельно рекомендую посмотреть у них realtime api (как минимум у гугла и openai они есть) с мультимодальными голосовымимоделями(илигугл), работающими как с текстом так и с голосом в одном контекстном окне, скорость их реакции максимально приближена к естественному человеческому.p.p.s. точно знаю у meta и майкрософта (phi 4) были мультимодальные модели для работы с голосом в реальном времени, но не попадался красивый готовый пример для локального запуска, ну и гугл недавно пиарился со своей мультимодальной моделью для смартфонов в открытом доступе, может там тоже голос есть."
    },
    {
      "id": 28631272,
      "author": "empenoso",
      "datetime": "2025-07-29T04:41:53.000Z",
      "text": "Спасибо"
    },
    {
      "id": 28632196,
      "author": "SabMakc",
      "datetime": "2025-07-29T08:18:21.000Z",
      "text": "У phi 4 с русским языком \"очень не очень\".Гугл пиарился с gemma-3n, но она только текст и картинки принимает, если не ошибаюсь.Llama - их множество, дотренированных различным образом, но не пробовал. В целом об их моделях молва идет как о не очень качественных (не знаю, на сколько это соотносится с реальностью).Я бы посмотрел на Voxtral от mistralai.В целом, те модели от mistralai, что пробовал, русский понимают, пускай и не лучшим образом (но именно Voxtral не пробовал)."
    },
    {
      "id": 28632590,
      "author": "MrLizard",
      "datetime": "2025-07-29T09:35:51.000Z",
      "text": "К сожалению мультимодальность gemma (google) ограничена только LLM и VLM, в качестве tts довольно шустро (и не нагруженно) работают silero, piper(на Rpi запускается без проблем, звучит кстати тоже неплохо) coqui tts(но постоянно пытается произнести точки aka \"поинт\\поинти\\пынта\")terra tts (если добавить RUAccent  вообще звучит замечательно) А вот что касаемо STT пока подробно вопрос не изучал к сожалению"
    },
    {
      "id": 28631360,
      "author": "maniak26",
      "datetime": "2025-07-29T05:04:45.000Z",
      "text": "Добрый день!Пытался внедрить голосовое управление по схеме m5 atom - whisper - ha (вм на synology хранилке)Настроил на активацию голосом (okay Jarvis Или okay naboo). Впечатление - с заметным лагом в 70% случаев срабатывает. Но пришлось рефачить конфиг - обзывать все устройства в соответствии сbest practices. С пары метров ловит более менее прилично, если находится в прямой видимости.Далее подключал llm (небольшие gemma и Llama), запущенную на пк. Стало чуть веселее, уже не строгое \"включить свет кухня\", а \"сделай светло на кухне\". Но иногда ошибается и включает свет не там).Пока остановил эксперименты - для полностью локального и постоянного решения нужен какой-то не сильно шумный и дорогой девайс под llm и ускорение whisper."
    },
    {
      "id": 28631380,
      "author": "empenoso",
      "datetime": "2025-07-29T05:11:41.000Z",
      "text": "Спасибо"
    },
    {
      "id": 28632454,
      "author": "rPman",
      "datetime": "2025-07-29T09:08:58.000Z",
      "text": "с каким системным промптом у вас gemma ошибалась?"
    },
    {
      "id": 28637794,
      "author": "maniak26",
      "datetime": "2025-07-30T07:40:30.000Z",
      "text": "с дефолтным - под капотом home assiatant генерит промпт для instruct моделей с описанием всех элементов дома и как с ними взаимодействовать можно"
    },
    {
      "id": 28631392,
      "author": "XTBZ",
      "datetime": "2025-07-29T05:14:00.000Z",
      "text": "Что лучше для такой системы HomeAssistant на докер контейнерах ручных или HomeAssistant OS?Еще, не совсем понятно, почему бы не использовать сразу один сервер большой, ведь ресурсы большого сервера в любом случае требуются?"
    },
    {
      "id": 28631432,
      "author": "empenoso",
      "datetime": "2025-07-29T05:28:49.000Z",
      "text": "Пока не решил для себя как окончательно сделать. Или 2 или 3 вариант рассматриваю"
    },
    {
      "id": 28631510,
      "author": "XTBZ",
      "datetime": "2025-07-29T05:51:32.000Z",
      "text": "В плане дороговизны, может быть, можно использовать китайские старые зеоны. У них и ядер много, и в случае необходимости видеокарту добавить можно. Получится дешевый сервер, куда можно поместить что угодно"
    },
    {
      "id": 28631518,
      "author": "empenoso",
      "datetime": "2025-07-29T05:52:41.000Z",
      "text": "Место только. У меня есть специальная ниша в стене - поместиться ли такая сборка - надо смотреть"
    },
    {
      "id": 28631870,
      "author": "almirus",
      "datetime": "2025-07-29T07:20:32.000Z",
      "text": "на большой машине поставить Proxmox, а там в контейнерах все что нужно."
    },
    {
      "id": 28655912,
      "author": "isden",
      "datetime": "2025-08-03T13:36:56.000Z",
      "text": "Это не очень хорошая идея. Я через это проходил уже (несколько RPi разных поколений -> большая рязань с проксмокс). С одной стороны - да, круто, куча плюшек. Но с другой - большая коробка с вентиляторами и заморочки с ИБП. В итоге сейчас все работает на orange pi 5 plus. Там и NPU есть, и микрофон."
    },
    {
      "id": 28633794,
      "author": "Tirarex",
      "datetime": "2025-07-29T12:53:33.000Z",
      "text": "В докере с плагинами HA сложновато. А с baremetal системой есть шанс сломать конфиг и чинить его с красными глазами.В идеале поставить Proxmox а в нем завести виртуалку с HomeAssistantOS. В таком случае всегда есть бекапы, легко расширить ресурсы и переехать с одного хоста на другой, итд.(Скрипты TTEK делают заведение такой виртуалки делом пары минут)"
    },
    {
      "id": 28634386,
      "author": "empenoso",
      "datetime": "2025-07-29T14:27:08.000Z",
      "text": "Спасибо"
    },
    {
      "id": 28668994,
      "author": "XTBZ",
      "datetime": "2025-08-06T11:12:40.000Z",
      "text": "Я уже несколько раз по глупости обновлялся при использовании контейнеров, и часть функционала или устройств отваливались. Куча часов работы, чтобы всё исправить и не переподключать все домашние устройства. Хотя один раз пришлось всё переподключать..."
    },
    {
      "id": 28634518,
      "author": "Barnaby",
      "datetime": "2025-07-29T14:53:45.000Z",
      "text": "HA очень хочет эксклюзивно работать на своей ос. Так что или отдельный одноплатник или  proxmox."
    },
    {
      "id": 28655916,
      "author": "isden",
      "datetime": "2025-08-03T13:39:00.000Z",
      "text": "У меня развернуто на убунте arm64 от Joshua Riek в подмане =) Никто не возражал особо."
    },
    {
      "id": 28668432,
      "author": "wrewolf",
      "datetime": "2025-08-06T09:20:16.000Z",
      "text": "Нынче, начиная с 2025.06, все типы установок кроме home assistant os объявили устаревшими (, и скоро видимо придется обновляться совсем на свой страх и риск"
    },
    {
      "id": 28631458,
      "author": "Alexroll11",
      "datetime": "2025-07-29T05:39:29.000Z",
      "text": "Добрый день по распознованию речи я для себя открылhttps://huggingface.co/t-tech/T-oneвот такую штуку, работает шустро, с русским языком идеально, в реальном времени,  на вашей малинке конечно не запуститься нужно 8 гигов малинка но если будете использовать сервер то идеально, у себя накрутил на сервере, и с esp передаёт звук работает быстро. Тк сам сейчас задумываюсь делать альтернативу яндексу то что бы не городить лишнего планирую делать связку,  колонки с Алисой остаются, задать активную фразу которая будет через хом ассистент передавать на мой сервер для перевода в речь, на том же сервере стоит ещё одна ллм для обработки запроса и от неё ответ отдавать тоже через хом ассистент на колонки яндекса."
    },
    {
      "id": 28631464,
      "author": "empenoso",
      "datetime": "2025-07-29T05:40:50.000Z",
      "text": "Спасибо"
    },
    {
      "id": 28631462,
      "author": "xaxexa",
      "datetime": "2025-07-29T05:40:30.000Z",
      "text": "Вот не поверишь у меня точно такие же взгляды на построение умного дома :-) и щас воюю с твоей проблемой, я переехал с тв приставка s912 amlogic (мощнее твоего распберри), на интел nuc 6 там склерон 4 ядра, 8 ram, ssd, hassio просто летать начал, для stt использую vosk, вобще ниодного вопроса ни по разбору речи ни по быстродействию, а вот assist дно он даже на падежах спотыкается... ну и у меня мысли прошить Алису или марусю или ещё кого-то из их семейства на армбиан и накатить туда войс сателлит есть приложение от home assistant"
    },
    {
      "id": 28631466,
      "author": "empenoso",
      "datetime": "2025-07-29T05:41:10.000Z",
      "text": "Спасибо"
    },
    {
      "id": 28631472,
      "author": "lolo333",
      "datetime": "2025-07-29T05:41:39.000Z",
      "text": "для малины есть плата расширения для работы с ии. Может быть ее для обработки голоса хватит.https://www.raspberrypi.com/products/ai-kit/"
    },
    {
      "id": 28631524,
      "author": "j_aleks",
      "datetime": "2025-07-29T05:54:55.000Z",
      "text": "А у вас HASS отчужден от инета, не обновляется... Хотя эти обновления немало крови попили... иной раз всю ифраструктуру перепахивать приходилось..."
    },
    {
      "id": 28631620,
      "author": "empenoso",
      "datetime": "2025-07-29T06:23:42.000Z",
      "text": "Не  отчужден. Обновляется. Да, потом что-нибудь слетает."
    },
    {
      "id": 28631534,
      "author": "Steelycrack",
      "datetime": "2025-07-29T05:58:10.000Z",
      "text": "чет какой-то зоопарк получается вместо одного сервера с гипервизором."
    },
    {
      "id": 28667294,
      "author": "DimkaI",
      "datetime": "2025-08-06T05:38:52.000Z",
      "text": "А посчитайте во сколько выльется сервер с гипервизором (это ещё и лицензии на гипервизор) и сравните со стоимостью этого модульного решения. К тому же малинки могут сутками питаться от павербанка, а для сервера придётся дорогой ИБП ставить."
    },
    {
      "id": 28686428,
      "author": "glonas",
      "datetime": "2025-08-10T07:08:41.000Z",
      "text": "N100 8 ватт ест , проксмокс бесплатно ."
    },
    {
      "id": 28687336,
      "author": "DimkaI",
      "datetime": "2025-08-10T11:50:04.000Z",
      "text": "То есть вы на базе велосипеда собираете боинг на 600 мест и утверждаете что этот велосипед не только летает, но и прекрасно справляется с рейсовыми перевозками.Ну-ну. Тогда да, чо уж там."
    },
    {
      "id": 28631616,
      "author": "yavasilek",
      "datetime": "2025-07-29T06:22:58.000Z",
      "text": "Попробуй вместо whisper использовать vosk. Он побыстрее работает"
    },
    {
      "id": 28639390,
      "author": "AlexZino",
      "datetime": "2025-07-30T11:19:12.000Z",
      "text": "Подскажите на голом Андроид можно запустить распознавание речи, используя vosk. Мне нужно на ноловном устройстве авто реализовать голосового ассистента."
    },
    {
      "id": 28639624,
      "author": "rPman",
      "datetime": "2025-07-30T11:53:53.000Z",
      "text": "с google apps идет поддержка распознования и синтеза, штатный SpeechRecognizer его умеет вызывать, по уму должно работать и оффлайн"
    },
    {
      "id": 28644162,
      "author": "AlexZino",
      "datetime": "2025-07-31T10:31:48.000Z",
      "text": "У меня голый, кастрированный китайцами Андроид 9. Туда не поставить гугл сервисы и апп"
    },
    {
      "id": 28644168,
      "author": "rPman",
      "datetime": "2025-07-31T10:33:10.000Z",
      "text": "иэтоне работает?"
    },
    {
      "id": 28631790,
      "author": "ncix",
      "datetime": "2025-07-29T07:01:59.000Z",
      "text": "Это все конечно занимательные развлечения, но сколько вы рассчитываете жить без интернета? За день-два любые аварии провайдера устраняются. День-два вы же проживете без Алисы?Тот же и ещё куча других вопросов решается резервным каналом (он же у вас есть?).А если больше пары дней без инета, тут наверное лучше тушёнки и свечей закупить, чем ещё горсть железа."
    },
    {
      "id": 28631822,
      "author": "empenoso",
      "datetime": "2025-07-29T07:07:01.000Z",
      "text": "Тут как бы основной посыл статьи немного другой - в самом начале обозначено то что меня напугало."
    },
    {
      "id": 28632064,
      "author": "earth_power",
      "datetime": "2025-07-29T07:55:34.000Z",
      "text": "А почему не перейти на зарубежное решение, гугл, эпл или амазон колонку? И разве нет готовых оффлайн решений? Как то очень муторно и дорого отказываться от колонки за 2500р"
    },
    {
      "id": 28632206,
      "author": "empenoso",
      "datetime": "2025-07-29T08:20:23.000Z",
      "text": "Сейчас таких цен на Алисы нет"
    },
    {
      "id": 28632108,
      "author": "DaemonGloom",
      "datetime": "2025-07-29T08:02:15.000Z",
      "text": "Добро пожаловать в современный мир. Пара дней без инета - это теперь нормально."
    },
    {
      "id": 28632216,
      "author": "empenoso",
      "datetime": "2025-07-29T08:21:16.000Z",
      "text": "В Перми на самом деле перебоев вроде не было"
    },
    {
      "id": 28632444,
      "author": "Ruwster",
      "datetime": "2025-07-29T09:06:00.000Z",
      "text": "Управление домашними устройствами , по-моему, должно работать офлайн.У меня на даче интернет,  в текущей ситуации,  отсутствует,  алиса в ауте,  все устройства тоже.  Резервный канал невозможен. Да и в принципе,  на кой команды гонять через какие-то облака, чтобы включить свет в ванной или выключить кондиционер."
    },
    {
      "id": 28632488,
      "author": "ncix",
      "datetime": "2025-07-29T09:15:50.000Z",
      "text": "На случай отсутствия голосового помощника наверное есть пульты, приложения, панели с кнопками.Мне сложно судить насколько это неудобно привыкшим к голосовому управлению людям, мне наоборот, куда проще молча найти пульт/приложение и ткунть пару кнопок, чем открывать рот и говорить."
    },
    {
      "id": 28634936,
      "author": "JBFW",
      "datetime": "2025-07-29T16:05:10.000Z",
      "text": "А еще можно во всяких удобных местах приколотить на стену гвоздями планшеты 6-10\" с уже открытым интерфейсом, хотя бы к тому же HA.Плюсы в том, что можно мимоходом посмотреть обстановку и что-то включить-выключить (не заморачиваясь \"где этот телефон?!\", не ожидая пока что-то там запустится).При этом можно и с телефона, если лень подниматься с дивана.Голосовое? Ну, это очень на любителя, либо одинокого, всеми покинутого, кому и поговорить не с кем..."
    },
    {
      "id": 28634992,
      "author": "empenoso",
      "datetime": "2025-07-29T16:16:18.000Z",
      "text": "Лёжа на диване очень удобно сказать закрой шторы если например отсвечивает на телеке"
    },
    {
      "id": 28636378,
      "author": "xSVPx",
      "datetime": "2025-07-29T22:28:04.000Z",
      "text": "Но зачем ?Если регулярно отсвечивает на телеке шторы должны закрываться сами..."
    },
    {
      "id": 28632510,
      "author": "empenoso",
      "datetime": "2025-07-29T09:20:49.000Z",
      "text": "HA полностью локален"
    },
    {
      "id": 28633848,
      "author": "Tirarex",
      "datetime": "2025-07-29T12:58:37.000Z",
      "text": "Тут даже не вопрос интернета а вопрос алисы дома.  Бесполезная + дорогая коробка + требует подписку, с очень кривым домом (удя) который интегрируется со скрипом, с обновлениями становится тупее.За цену одной яндекс станции про ( в районе 20к) можно взять мини пк на N150 или свежем райзене, пару малин с шилдами для микрофона и динамика, и пару аудио систем 2,0 для лучшего звука, и сделать заметно более гибкий умный дом который не требует подписок и не дружит с товарищем майором."
    },
    {
      "id": 28636556,
      "author": "teodorso",
      "datetime": "2025-07-30T00:10:12.000Z",
      "text": "мини 2 - 5к новая, и любые колонки к ней. для управления умным домом подписка не нужна, как и для чего угодно кроме музыки"
    },
    {
      "id": 28631816,
      "author": "chercheur",
      "datetime": "2025-07-29T07:06:08.000Z",
      "text": "Пробовал M5 Stack Atom Echo - слабоват микрофон и дохлый динамикКупил на пробу \"официальный\" Home Assistant Voice Preview Edition -  совсем другое дело, микрофоны получше и ответы слышно :)"
    },
    {
      "id": 28632186,
      "author": "janvarev",
      "datetime": "2025-07-29T08:16:18.000Z",
      "text": "Если нужно - есть русский опенсорс голосовой помощник Ирина с полным оффлайном:https://habr.com/ru/articles/595855/,https://github.com/janvarev/Irene-Voice-AssistantНа Гитхабе 900+ звезд, расширяется плагином, есть плагин интеграции с HA. Распознавание голоса делается на лету легким VOSK, довольно качественно. Запускали даже на Raspberry, правда, там надо немного долбаться с докером; я предпочитаю запускать на старом компьютере.Обработка команд - либо по соотвествию слов (быстро, дешево), либо можно прокинуть до LLM локальной или облачной (тогда вызывается один из tools)."
    },
    {
      "id": 28632220,
      "author": "empenoso",
      "datetime": "2025-07-29T08:21:38.000Z",
      "text": "Спасибо"
    },
    {
      "id": 28633784,
      "author": "janvarev",
      "datetime": "2025-07-29T12:53:12.000Z",
      "text": "Накатал статью на Хабр про последний апдейт Ирины:https://habr.com/ru/articles/932072/"
    },
    {
      "id": 28635040,
      "author": "DashBerlin",
      "datetime": "2025-07-29T16:24:15.000Z",
      "text": "как раз в тему, статья появилась в ленте, спасибо!"
    },
    {
      "id": 28632260,
      "author": "positroid",
      "datetime": "2025-07-29T08:27:50.000Z",
      "text": "Задарили недавно Home Assistant Voice Preview Edition, детально погонять не успел, но:Для облака нужен VPN, локально на raspberry pi 4 без танцев с бубнами распознавание не завелосьРусский язык заявлен только в облакеМожно кастомизировать вплоть до перепрошивки устройстваAssist в сравнении с алисой это такое ... своеобразие. Выше уже писали best practices по именованию объектов, но даже банальное \"Включи весь свет\" или указание комнаты у меня не завелось. Управление работает только если точно назвать объект в hass (и если whisper его правильно распознает, например \"основной свет кабинет\" иногда распознается как \"основной свет в кабинете\" и выдает ошибку).Банально поболтать тоже не выходит, ни спросить погоду, ни все остальное  - \"сообщение не распознано\". Работает только то, что завязано на Home Assistant.Глубоко вникнуть во все детали у меня, к сожалению, не вышло, полностью отказываться от Алисы не собираюсь, но поразбираться с новым девайсом, локальными модельками и своей логикой - собираюсь. Благо в качестве основного устройства могу использовать стационарный ПК, т.к. он всегда в сети."
    },
    {
      "id": 28633898,
      "author": "Tirarex",
      "datetime": "2025-07-29T13:05:48.000Z",
      "text": "Я тестил с телефона в паре с чатгпт в настройках AI, дом настроен по комнатам с русскими названиями, сами устройства названы как попало.Русский понимает без проблем, включи весь свет понимает без проблем, включи свет в комнате тоже, но точечные команды понимает с трудом если светильники не названы нормально. То же \"включи ночник в зале\" оно поймет только если ночник называется ночником а не  shellyplus1pm-441793a962b0 (у меня ночником розетка шелли рулит), но это вполне логично.В целом если посидеть с конфигами один раз, то можно привести это все в рабочее состояние.С локальным AI все сложнее, у чатгпт сколько денег отдал столько токенов будет, а дома в llama можно любую сеть поднять но нужно много видеопамяти."
    },
    {
      "id": 28632266,
      "author": "SabMakc",
      "datetime": "2025-07-29T08:30:47.000Z",
      "text": "Если есть желание гонять LLM - то лучше сразу на полноценный комп закладываться, с видеокартой и прочими ништяками.Я бы на мини-системник на базе AMD Ryzen AI MAX+ 395 посмотрел - распаяно 128GB быстрой памяти (что хорошо для LLM), но цена - около 200к, что не так уж и бюджетно (хотя если собирать новый комп с похожими характеристиками, то не сильно дешевле выйдет).Может для умного дома и избыточно, но мощная локальная LLM пригодится и в повседневной жизни."
    },
    {
      "id": 28632440,
      "author": "empenoso",
      "datetime": "2025-07-29T09:05:39.000Z",
      "text": "Яуже завёл."
    },
    {
      "id": 28632676,
      "author": "13werwolf13",
      "datetime": "2025-07-29T09:54:11.000Z",
      "text": "у меня hass вместе с whisper и piper крутятся на безвентиляторном неттопе от китайцев с n100 в качестве процессора. увы этого камушка явно маловато для распознавания речи, в процессе распознавания команды, даже пары слов процессор грузится на 100% на 5-10 секунд хотя в остальное время он простаивает."
    },
    {
      "id": 28634398,
      "author": "empenoso",
      "datetime": "2025-07-29T14:28:21.000Z",
      "text": "А как на счёт \"человечности\" голосов?"
    },
    {
      "id": 28634866,
      "author": "13werwolf13",
      "datetime": "2025-07-29T15:53:05.000Z",
      "text": "Мой голос вполне человечный 😁😁😁А вообще не могу сказать, я строю по принципу \"говорю я, а не мне\"."
    },
    {
      "id": 28634994,
      "author": "empenoso",
      "datetime": "2025-07-29T16:16:43.000Z",
      "text": "А, да, перепутал"
    },
    {
      "id": 28633838,
      "author": "artmel",
      "datetime": "2025-07-29T12:58:15.000Z",
      "text": "посмотрите на orin jetson nano dev kit  8/16 гбОн заточен на запуск локальных моделей."
    },
    {
      "id": 28634376,
      "author": "apcs660",
      "datetime": "2025-07-29T14:25:04.000Z",
      "text": "Jetson Orin NX 8/16? Чтоб два раза не вставать и поделать что то полезное помимо колонки?"
    },
    {
      "id": 28633858,
      "author": "Akr0n",
      "datetime": "2025-07-29T12:59:53.000Z",
      "text": "Сомневаюсь, что N100 хватит под Whisper и Piper с приемлемыми задержками, надо что-то помощнее."
    },
    {
      "id": 28634792,
      "author": "apcs660",
      "datetime": "2025-07-29T15:38:05.000Z",
      "text": "Интересно, решения типаlivekitмогут быть полезны в колоночном деле?"
    },
    {
      "id": 28634828,
      "author": "empenoso",
      "datetime": "2025-07-29T15:44:19.000Z",
      "text": "А если на человеческий язык перевести, то как это можно использовать - для чего такие решения?"
    },
    {
      "id": 28635356,
      "author": "apcs660",
      "datetime": "2025-07-29T17:53:43.000Z",
      "text": "нормальный voice chat, с детектором активности, остановкой процессинга, с вызовом функций, с качественными stt/tts. Все по сути есть, из коробки. Можно и локально, а можно и облачно запустить.Меня терзают смутные сомнения что очень скоро omni модели (qwen вроде есть же, но примеры еще не догрызли на huggingface), сделают создание \"Алисы\" очень простым. Функциональные вызовы почти везде из коробки есть в новых моделях, MCP/АCP стандарты допиливают, для интеграции чего хочешь.У китайцев полно их мелких компов (sophon, не уверен что по памяти точно написал но там сложно с поддержкой и документацией),jetson orin nxможно - к нему и камеру сразу прикрутить. Омни модель, в ней tts/stt встроенные, распознавалка с камеры туда же, нормальный мини комп с ускорителем и обвязка с микрофонами как обычно."
    },
    {
      "id": 28634972,
      "author": "dr_Sergeus",
      "datetime": "2025-07-29T16:12:16.000Z",
      "text": "Да что ж так все сложно то... ESP32-S3 с EspHome ассистентом с local wake word на борту.  Самый быстрый  Wyoming - vosk, самый красивый голос (как по мне) Silero. Есть заброшенный проект Silero-TTS-Service - прямая интеграция с HA. Все это работает на малине 4В с 4GB + SSD. В отличии от автора статьи - у меня все в контейнерах, включая vosk, Silero-TTS-Service (пересобранный), EspHome. Колонки откликаются на Алексу. Дальше все зависит от Ваших желаний. Прямая интеграция с AI прямо в HA доступна давно.  И да, все локально."
    },
    {
      "id": 28634998,
      "author": "empenoso",
      "datetime": "2025-07-29T16:17:09.000Z",
      "text": "Спасибо"
    },
    {
      "id": 28635016,
      "author": "nv13",
      "datetime": "2025-07-29T16:18:58.000Z",
      "text": "А одноплатники с какими нибудь нейросопроцессорами не поддерживаются системами распознавания речи?"
    },
    {
      "id": 28635490,
      "author": "DashBerlin",
      "datetime": "2025-07-29T18:29:35.000Z",
      "text": "@empenosoу тебя на скрине умного дома есть влажность растений в комнатах, там просто меряет или автополив, если ли у тебя заметки на эту тему?"
    },
    {
      "id": 28637092,
      "author": "empenoso",
      "datetime": "2025-07-30T05:44:05.000Z",
      "text": "просто меряет"
    },
    {
      "id": 28636636,
      "author": "Seregaural",
      "datetime": "2025-07-30T01:09:51.000Z",
      "text": "А какой может быть минус в использовании macmini 2011-2012 года под HA? Их сейчас отдают за 6т.р. уже с ssd и 8-16гб ram. У меня сейчас установлен на таком proxmox с ha, в usb торчит zigbee."
    },
    {
      "id": 28636638,
      "author": "Radexxx",
      "datetime": "2025-07-30T01:09:57.000Z",
      "text": "оно точно того стоит?https://cloudfree.shop/product/home-assistant-voice-preview-edition/"
    },
    {
      "id": 28637098,
      "author": "empenoso",
      "datetime": "2025-07-30T05:45:27.000Z",
      "text": "Насколько я понял это просто другой вариант  ESP32-S3-BOX-3 из статьи. Так что как раз всё что описано применимо"
    },
    {
      "id": 28636860,
      "author": "MadMax1234",
      "datetime": "2025-07-30T04:23:12.000Z",
      "text": "Давно хотел собрать себе голосового помощника, чтоб можно было обращаться к нему \"товарищ майор\"."
    },
    {
      "id": 28636896,
      "author": "empenoso",
      "datetime": "2025-07-30T04:40:28.000Z",
      "text": "Вот и карты в руки"
    },
    {
      "id": 28640626,
      "author": "JohnGear",
      "datetime": "2025-07-30T15:16:19.000Z",
      "text": "Впринципе даже неважно как он будет выглядеть. В моем случае планирую пока превратить старый пк в такого \"помощника\". А что, мне по сути то от алисы требуется: музыка, таймер/будильник, википедия. Но идея перенести это в физический корпус воодушевляет)"
    },
    {
      "id": 28641706,
      "author": "nicknamenull",
      "datetime": "2025-07-30T20:31:36.000Z",
      "text": "А зачем вообще нужен умный дом, кто-нибудь может объяснить? Без маркетологической мишуры."
    },
    {
      "id": 28642104,
      "author": "empenoso",
      "datetime": "2025-07-31T01:12:43.000Z",
      "text": "Удобство. Технологичность."
    },
    {
      "id": 28644290,
      "author": "Skill777",
      "datetime": "2025-07-31T10:55:46.000Z",
      "text": "Если прям совсем без маркетинговой: то просто доказать себе что можешь. Можешь не спать несколько недель подбирая китайские датчики разной совместимости, настраивая систему, которая будет менять яркость лампочки голосом, говорить про «влажность цветков» и может даже что-то включать и открывть, даст тебе мнимое чувство защиты от протечки/пожара и возможность следить кто к жене приходит пока тебя дома нет.В итоге, при всех назвать это удобством и технологичностью, а после с гордым чувством самоудовлетворения от сэкономленных секунд на рутинных действиях тратить в 5 раз больше времени на отладку и поддержания системы, не говоря уже про деньги. Отдельный кайф - если небольшой дом или живешь в маленькой квартире где все в шаговой доступности. Бонусом идет прокачка навыков работы с командной строкой и чтение документации на английском.Это действительно интересно и занимательно"
    },
    {
      "id": 28648162,
      "author": "AlexeyOs",
      "datetime": "2025-08-01T08:11:08.000Z",
      "text": "А у Алисы ведь есть оффлайн режим. Поэтому вопрос: умеет самоделка что-то, что не умеет Алиса?Например музыку с жесткого диска без подписки включать?"
    },
    {
      "id": 28651888,
      "author": "Kosbespapiros",
      "datetime": "2025-08-02T07:51:02.000Z",
      "text": "Очень жду следующей статьи с конкретными действиями.Голосую за второй вариант. Критичная инфраструктура остается на одноплатнике(надеюсь с ссд). Отдельный узел с распознаванием и туда же можно докинуть распознавание лиц, если станет скучно.Первый вариант я уже у себя успел опробовать. Как и ожидалось, слишком долго на интел4000.. На Алисе можно команд 5 перепробовать до того, как забракуется один запрос в локалке. Уже закупил n150 но не знал, что можно распределить по сети .. Теперь бы инструкцию для ленивых - how-to)"
    },
    {
      "id": 28662234,
      "author": "Letum",
      "datetime": "2025-08-04T20:37:41.000Z",
      "text": "А если к этому всему попробовать прикрутить NPU типа Google Coral? У меня по крутится через Whisper ассистент от KinCony на i3 14100 32Gb и все медленно и печально. Есть ещё Xiaozhi через облако, но он не всеми устройствами умеет управлять."
    },
    {
      "id": 28684214,
      "author": "Asm0deus",
      "datetime": "2025-08-09T12:52:03.000Z",
      "text": "Тоже не хотел Алису и сделать все автономно.На базе N150+НА+n8n+whisper (все локально) собрал так, что в ТГ бота говоришь, что нужно сделать, n8n кидает фразу в виспер, он ее более-менее транскрибирует и перекидывает в OpenRouter (в фри версию чата), у которого в системном аромате стоит одна задача - понять, что я имею ввиду из 2 частей: 1. Какой объект я имею ввиду 2. Что я с ним хочу сделать (вкл/выкл).И отдает обратно в n8n в нужную ветку, у которого на выходе много устройств от HA.Работает из-за доп.ИИ так, что легко понимает фразы: \"Включи над головой на кухне\", \"выруби все\", \"чёт над столом темно\""
    },
    {
      "id": 28700612,
      "author": "nicelight_nsk",
      "datetime": "2025-08-13T08:46:07.000Z",
      "text": "я то думал вы делитесь опытом а не размышлениями на будущее.в конце 24го, начале 25го я тестировал такую систему на мощном i7 сервере 32Gb RAM  16 ГБ VRAM и медиум моделью Whisper  с 4мя бимами. Результат был мягко говоря, разочаровывающий. до алисы не дотягивает, то ли из-за качества микрофонов ( использовал esp32 +inmp441) то ли из-за не способности виспером хорошо распознавать русскую речь.Клиент вбухнул серьезные деньги на оффлан умный дом , а по итогу остались у разбитого корыта.Large модель тупила даже на таком серьезном железе. Может у меня руки кривые. Но был разочарован. Кто знает, виспер мог улучшиться за эти пол года"
    },
    {
      "id": 28701398,
      "author": "rPman",
      "datetime": "2025-08-13T11:39:15.000Z",
      "text": "что значит тупила? какого рода проблемы были или речь просто об отсутствии реалтайм? но это просто выбор не того инструмента!p.s. не уверен что адекватно оффлайн русскоязычное распознование реалтайм существует, все что есть это: распознать фразу -> получить текст -> обработать -> синтезировать -> воспроизвести (почти ничего из этого не распаралеливается, т.е. только последовательно), что ни при каких условиях не может быть реалтайм"
    },
    {
      "id": 28861588,
      "author": "MADLexx",
      "datetime": "2025-09-20T17:19:22.000Z",
      "text": "А вот если рассматривать вариант 3, но на базе уже существующего медиасервера с ОС TrueNAS Scale? Я его собрал из старого железа, которое и выкинуть было жалко и продавать смысла не было: компьютер на базе i7 3770k и ОЗУ 32гб. Использую его как медиасервер для просмотра фильмов. Можно на нём развернуть Home Assistant в докере и поставить Whisper и Piper? Мощности старичка по идее должно хватить, тем более транскодингом видео он не занимается. И насколько чувствительные микрофоны у ATOM Echo  ? Одного на комнату 20 м2 достаточно будет? У меня была первая колонка от партнеров с Алисой, IRBIS A, приходилось ей кричать в паре метров."
    },
    {
      "id": 28862606,
      "author": "empenoso",
      "datetime": "2025-09-21T05:16:26.000Z",
      "text": "пробовать надо 🤷"
    }
  ]
}